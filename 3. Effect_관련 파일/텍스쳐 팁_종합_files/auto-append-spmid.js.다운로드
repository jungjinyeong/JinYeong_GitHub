(function(){if(typeof window==="undefined"){return}var a=function a(j){var f=j.target;for(;f&&"A"!==f.tagName;){f=f.parentNode}if("A"!==(null==f?void 0:f.tagName)){return}var h=f.getAttribute("href");if(!h||!/\/\//.test(h)||/spm_id_from=/.test(h)){return}if(!/(bili|b(\d*).tv)/.test(h)){return}/^\/\//.test(h)&&(h="".concat(window.location.protocol).concat(h));var b=new URL(h),c=function(){var e;return window.__spm_prefix||(window.__spm_prefix=null==(e=document.querySelector("meta[name=spm_prefix]"))?void 0:e.content.split(".").slice(0,2).join(".")),window.__spm_prefix}().split(".");if(c[2]=f.dataset.mod||"0",c[3]=f.dataset.idx||"0",f.dataset.spmid){var d=f.dataset.spmid.split(".");c[0]=d[0],c[1]=d[1]}f.dataset.ext&&(c[4]=f.dataset.ext);var g=b.search?"".concat(b.search,"&spm_id_from=").concat(c.join(".")):"?spm_id_from=".concat(c.join("."));f.setAttribute("href",b.origin+b.pathname+g+b.hash)};document.body.addEventListener("click",a,!1),document.body.addEventListener("contextmenu",a,!1)})();
